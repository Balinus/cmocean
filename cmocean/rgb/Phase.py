
from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf

# Used to reconstruct the colormap in pycam02ucs.cm.viscm
parameters = {'xp': [2.2663950492831759, 54.013706877240139, 66.950534834229387, 48.133330533154123, -11.846508176523287, -42.130446348566281, -28.017543122759832, -48.304841509856601, -23.019223230286713, 1.972376232078858],
              'yp': [33.90456989247312, 37.432795698924735, -18.136760752688161, -37.542002688172019, -64.003696236559108, -60.181451612903189, 2.4445564516129252, 49.487567204301087, 31.258400537634429, 34.198588709677438],
              'min_Jp': 66,
              'max_Jp': 66}

cm_data = [[ 0.72644798,  0.56600237,  0.06884408],
       [ 0.73486157,  0.56154463,  0.06364543],
       [ 0.74305416,  0.557089  ,  0.05891561],
       [ 0.75122661,  0.552527  ,  0.05462253],
       [ 0.75919522,  0.54796211,  0.05095485],
       [ 0.76712341,  0.5433016 ,  0.04793204],
       [ 0.77487158,  0.53862836,  0.0457005 ],
       [ 0.78255187,  0.5338758 ,  0.04430535],
       [ 0.79008093,  0.52909621,  0.04382062],
       [ 0.79750953,  0.52425861,  0.04426577],
       [ 0.80481912,  0.51937568,  0.04563398],
       [ 0.8119923 ,  0.51446053,  0.04787724],
       [ 0.81908079,  0.50947821,  0.05094808],
       [ 0.82600495,  0.50448614,  0.05472829],
       [ 0.83285979,  0.49941652,  0.05918232],
       [ 0.83956374,  0.49433033,  0.06417424],
       [ 0.84614953,  0.48920453,  0.06964549],
       [ 0.85262895,  0.4840305 ,  0.07553886],
       [ 0.85895635,  0.47884634,  0.08175268],
       [ 0.86519319,  0.47360264,  0.08829928],
       [ 0.87129219,  0.46833981,  0.09509198],
       [ 0.87724883,  0.46306407,  0.10209203],
       [ 0.88311361,  0.45773126,  0.10933647],
       [ 0.88883141,  0.45239243,  0.11674044],
       [ 0.89441239,  0.44704053,  0.12430124],
       [ 0.89988882,  0.4416453 ,  0.13205483],
       [ 0.90521993,  0.43624813,  0.13993832],
       [ 0.91040791,  0.43084942,  0.14794909],
       [ 0.91548856,  0.4254128 ,  0.15614284],
       [ 0.92042339,  0.41998059,  0.16445973],
       [ 0.92521343,  0.41455435,  0.17290163],
       [ 0.92987475,  0.40911766,  0.18150053],
       [ 0.93439994,  0.40368049,  0.19024912],
       [ 0.93877708,  0.39825944,  0.19912961],
       [ 0.94300596,  0.39285761,  0.20814637],
       [ 0.94710014,  0.38745957,  0.21733662],
       [ 0.95104581,  0.38208537,  0.22667905],
       [ 0.95483759,  0.37674529,  0.23616861],
       [ 0.95847422,  0.3714443 ,  0.24580989],
       [ 0.96195907,  0.36618038,  0.25562159],
       [ 0.9652905 ,  0.36095852,  0.26561116],
       [ 0.96845917,  0.35579648,  0.27576189],
       [ 0.971463  ,  0.35070151,  0.28607712],
       [ 0.97429969,  0.34568148,  0.2965597 ],
       [ 0.97696779,  0.34074289,  0.30721626],
       [ 0.97946756,  0.3358887 ,  0.31806293],
       [ 0.9817908 ,  0.33113871,  0.32907921],
       [ 0.98393475,  0.32650322,  0.34026526],
       [ 0.98589654,  0.3219931 ,  0.35162042],
       [ 0.98767326,  0.31761981,  0.36314315],
       [ 0.98926194,  0.31339528,  0.37483096],
       [ 0.99065992,  0.30933102,  0.38668307],
       [ 0.9918648 ,  0.30543766,  0.39870218],
       [ 0.99287236,  0.30173234,  0.41087085],
       [ 0.99367997,  0.29822807,  0.42318256],
       [ 0.99428517,  0.2949379 ,  0.43562971],
       [ 0.99468566,  0.29187473,  0.44820362],
       [ 0.99487935,  0.28905116,  0.46089457],
       [ 0.99486441,  0.2864793 ,  0.47369183],
       [ 0.99463927,  0.28417063,  0.48658368],
       [ 0.99420268,  0.28213574,  0.49955748],
       [ 0.99355369,  0.28038424,  0.51259973],
       [ 0.99269173,  0.27892454,  0.52569618],
       [ 0.99161655,  0.27776365,  0.53883219],
       [ 0.99032809,  0.27690708,  0.55199393],
       [ 0.98882714,  0.27635901,  0.56516267],
       [ 0.98711461,  0.27612171,  0.57832217],
       [ 0.98519181,  0.27619572,  0.59145595],
       [ 0.98306041,  0.27657985,  0.60454738],
       [ 0.98072241,  0.27727126,  0.61757986],
       [ 0.97818015,  0.27826546,  0.63053688],
       [ 0.97543631,  0.27955642,  0.64340217],
       [ 0.97249383,  0.28113671,  0.65615977],
       [ 0.96935593,  0.28299761,  0.66879416],
       [ 0.96602606,  0.28512929,  0.68129033],
       [ 0.96250791,  0.28752096,  0.69363388],
       [ 0.95880533,  0.29016106,  0.70581104],
       [ 0.95492233,  0.29303739,  0.71780881],
       [ 0.95086306,  0.29613733,  0.72961493],
       [ 0.94663175,  0.29944795,  0.74121795],
       [ 0.94223272,  0.30295617,  0.75260727],
       [ 0.93767035,  0.3066489 ,  0.76377313],
       [ 0.93294901,  0.31051313,  0.77470665],
       [ 0.92807309,  0.31453605,  0.78539981],
       [ 0.92304696,  0.31870514,  0.79584544],
       [ 0.91787494,  0.32300822,  0.80603721],
       [ 0.91256128,  0.32743351,  0.81596963],
       [ 0.90711019,  0.33196969,  0.82563794],
       [ 0.90152585,  0.33660582,  0.83503805],
       [ 0.89581205,  0.34133174,  0.84416702],
       [ 0.88997262,  0.34613764,  0.85302236],
       [ 0.88401124,  0.3510143 ,  0.8616022 ],
       [ 0.87793142,  0.35595299,  0.86990527],
       [ 0.87173654,  0.36094552,  0.87793087],
       [ 0.86542978,  0.36598426,  0.88567878],
       [ 0.85901414,  0.37106205,  0.89314927],
       [ 0.85249243,  0.37617227,  0.90034299],
       [ 0.84586725,  0.38130878,  0.90726096],
       [ 0.83914102,  0.38646591,  0.91390451],
       [ 0.83231591,  0.39163844,  0.92027524],
       [ 0.82539389,  0.39682161,  0.92637493],
       [ 0.8183767 ,  0.40201105,  0.93220554],
       [ 0.81126586,  0.40720283,  0.93776914],
       [ 0.80406267,  0.41239335,  0.94306787],
       [ 0.79676816,  0.41757941,  0.94810388],
       [ 0.78938319,  0.42275812,  0.95287929],
       [ 0.78190834,  0.42792693,  0.95739616],
       [ 0.77434401,  0.43308356,  0.96165645],
       [ 0.76669035,  0.43822602,  0.96566194],
       [ 0.75894733,  0.44335256,  0.96941427],
       [ 0.75111471,  0.44846166,  0.97291482],
       [ 0.74319206,  0.45355199,  0.97616475],
       [ 0.73517879,  0.4586224 ,  0.97916493],
       [ 0.72707416,  0.46367191,  0.98191592],
       [ 0.7188773 ,  0.46869964,  0.98441799],
       [ 0.71058725,  0.47370482,  0.98667104],
       [ 0.70220289,  0.4786868 ,  0.98867466],
       [ 0.6937233 ,  0.48364483,  0.99042805],
       [ 0.68514724,  0.48857837,  0.9919301 ],
       [ 0.67647371,  0.49348676,  0.99317934],
       [ 0.66770172,  0.49836933,  0.99417398],
       [ 0.65883046,  0.50322533,  0.99491193],
       [ 0.64985925,  0.50805395,  0.99539081],
       [ 0.6407877 ,  0.51285424,  0.99560803],
       [ 0.6316157 ,  0.51762513,  0.99556079],
       [ 0.6223435 ,  0.52236537,  0.99524617],
       [ 0.61297182,  0.52707353,  0.99466119],
       [ 0.60350185,  0.53174799,  0.99380286],
       [ 0.59393538,  0.53638689,  0.99266828],
       [ 0.58427484,  0.54098817,  0.99125473],
       [ 0.57452337,  0.54554951,  0.98955977],
       [ 0.56468488,  0.55006836,  0.98758132],
       [ 0.55476413,  0.55454194,  0.98531779],
       [ 0.54476678,  0.55896725,  0.98276815],
       [ 0.5346994 ,  0.56334106,  0.97993207],
       [ 0.52456955,  0.56765998,  0.97681002],
       [ 0.51438574,  0.57192045,  0.97340333],
       [ 0.50415522,  0.5761197 ,  0.96971345],
       [ 0.49389103,  0.58025291,  0.96574459],
       [ 0.4836049 ,  0.58431616,  0.96150133],
       [ 0.4733092 ,  0.58830565,  0.95698933],
       [ 0.46301708,  0.59221767,  0.95221541],
       [ 0.45274238,  0.59604861,  0.94718752],
       [ 0.44249948,  0.59979509,  0.94191471],
       [ 0.43230319,  0.60345395,  0.9364071 ],
       [ 0.42216856,  0.60702234,  0.9306758 ],
       [ 0.41211137,  0.61049753,  0.92473316],
       [ 0.40214691,  0.61387732,  0.91859214],
       [ 0.39228964,  0.61716011,  0.912266  ],
       [ 0.38255367,  0.6203447 ,  0.90576855],
       [ 0.3729524 ,  0.62343034,  0.89911392],
       [ 0.36349826,  0.62641679,  0.89231637],
       [ 0.35420262,  0.62930428,  0.88539011],
       [ 0.34507551,  0.63209351,  0.87834921],
       [ 0.3361255 ,  0.63478564,  0.87120738],
       [ 0.32735958,  0.63738229,  0.86397784],
       [ 0.31878452,  0.63988503,  0.85667458],
       [ 0.3104032 ,  0.64229639,  0.84930919],
       [ 0.30221592,  0.64461947,  0.84189176],
       [ 0.29422206,  0.64685731,  0.83443242],
       [ 0.28641903,  0.64901321,  0.82694031],
       [ 0.27880221,  0.65109071,  0.81942356],
       [ 0.27136499,  0.65309349,  0.81188924],
       [ 0.26409882,  0.65502537,  0.80434335],
       [ 0.25699324,  0.65689027,  0.79679077],
       [ 0.25003604,  0.65869215,  0.78923531],
       [ 0.24321329,  0.66043498,  0.78167967],
       [ 0.23650954,  0.66212271,  0.77412551],
       [ 0.22990793,  0.66375923,  0.76657343],
       [ 0.22339033,  0.66534834,  0.75902301],
       [ 0.21693755,  0.66689373,  0.75147287],
       [ 0.21052946,  0.66839893,  0.74392071],
       [ 0.20414519,  0.6698673 ,  0.73636331],
       [ 0.19776329,  0.671302  ,  0.72879667],
       [ 0.1913619 ,  0.67270599,  0.72121596],
       [ 0.18491886,  0.67408196,  0.71361568],
       [ 0.17841191,  0.67543238,  0.70598964],
       [ 0.17181879,  0.67675941,  0.69833107],
       [ 0.16511735,  0.67806497,  0.69063266],
       [ 0.15828563,  0.67935064,  0.68288665],
       [ 0.151302  ,  0.68061773,  0.67508488],
       [ 0.14414517,  0.68186721,  0.66721883],
       [ 0.13679429,  0.68309976,  0.65927975],
       [ 0.12922898,  0.6843157 ,  0.65125867],
       [ 0.12142941,  0.68551508,  0.6431465 ],
       [ 0.11337638,  0.68669757,  0.63493406],
       [ 0.10505149,  0.68786258,  0.62661216],
       [ 0.09643742,  0.68900916,  0.61817163],
       [ 0.08751841,  0.69013609,  0.60960343],
       [ 0.0782812 ,  0.69124181,  0.60089862],
       [ 0.06871677,  0.6923245 ,  0.59204843],
       [ 0.05882367,  0.69338203,  0.58304434],
       [ 0.04861447,  0.69441202,  0.57387803],
       [ 0.03812936,  0.6954118 ,  0.56454147],
       [ 0.02847486,  0.69637845,  0.55502692],
       [ 0.02044065,  0.6973088 ,  0.54532694],
       [ 0.01418271,  0.69819944,  0.5354344 ],
       [ 0.0098654 ,  0.69904669,  0.52534251],
       [ 0.00766129,  0.69984667,  0.51504481],
       [ 0.00775108,  0.70059524,  0.50453516],
       [ 0.01032365,  0.70128803,  0.4938078 ],
       [ 0.01557607,  0.70192044,  0.48285732],
       [ 0.02371384,  0.70248759,  0.47167867],
       [ 0.03495104,  0.70298439,  0.46026721],
       [ 0.04883669,  0.70340544,  0.44861873],
       [ 0.06324171,  0.7037451 ,  0.4367295 ],
       [ 0.07790992,  0.70399742,  0.42459633],
       [ 0.09280645,  0.70415628,  0.41219731],
       [ 0.1078858 ,  0.70421464,  0.3995445 ],
       [ 0.12313388,  0.70416542,  0.38663754],
       [ 0.13854566,  0.7040012 ,  0.37347625],
       [ 0.15412017,  0.7037142 ,  0.36006191],
       [ 0.1698832 ,  0.70329545,  0.34637577],
       [ 0.18584244,  0.70273555,  0.33241689],
       [ 0.20197326,  0.70202601,  0.31821508],
       [ 0.21827706,  0.70115739,  0.30377982],
       [ 0.23482027,  0.70011541,  0.28906493],
       [ 0.25152752,  0.69889386,  0.27415311],
       [ 0.26842351,  0.69748024,  0.25904166],
       [ 0.28550307,  0.69586356,  0.24375877],
       [ 0.3027152 ,  0.69403771,  0.22837923],
       [ 0.32006065,  0.6919921 ,  0.21293842],
       [ 0.33746015,  0.6897266 ,  0.19755173],
       [ 0.35486518,  0.68724011,  0.1823174 ],
       [ 0.37219702,  0.68453871,  0.16737248],
       [ 0.38935652,  0.68163615,  0.15288488],
       [ 0.40625832,  0.67854896,  0.13902448],
       [ 0.42280186,  0.67530159,  0.12598652],
       [ 0.43891254,  0.6719187 ,  0.11395474],
       [ 0.4545055 ,  0.66843172,  0.10312237],
       [ 0.46957061,  0.66485876,  0.09362305],
       [ 0.48403698,  0.66123446,  0.0856071 ],
       [ 0.49795749,  0.65756384,  0.07911486],
       [ 0.51128472,  0.65387778,  0.07418292],
       [ 0.52410496,  0.65017003,  0.07072837],
       [ 0.53639165,  0.64646483,  0.06864126],
       [ 0.54821765,  0.6427559 ,  0.06773333],
       [ 0.55962777,  0.63904272,  0.06779556],
       [ 0.57061942,  0.63533897,  0.06860472],
       [ 0.58125786,  0.63163434,  0.06994686],
       [ 0.59158417,  0.62792439,  0.07162918],
       [ 0.60162915,  0.62420674,  0.07348201],
       [ 0.61141684,  0.62048028,  0.07535896],
       [ 0.62096915,  0.61674369,  0.07713577],
       [ 0.6303296 ,  0.61298593,  0.07871089],
       [ 0.63952321,  0.60920184,  0.0799928 ],
       [ 0.64857361,  0.60538583,  0.0808989 ],
       [ 0.65750305,  0.60153192,  0.08135102],
       [ 0.66633244,  0.5976338 ,  0.08127112],
       [ 0.67508133,  0.5936849 ,  0.0805765 ],
       [ 0.683768  ,  0.5896784 ,  0.07917428],
       [ 0.69240937,  0.58560734,  0.07695418],
       [ 0.70102108,  0.58146462,  0.07377811],
       [ 0.70961735,  0.57724309,  0.06946369],
       [ 0.718211  ,  0.57293566,  0.06375533],
       [ 0.72681323,  0.56853537,  0.05626789]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
