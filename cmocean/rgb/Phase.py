
from matplotlib.colors import LinearSegmentedColormap
from numpy import nan, inf

# Used to reconstruct the colormap in pycam02ucs.cm.viscm
parameters = {'xp': [2.1581435310413326, 54.01370687724014, 66.95053483422939, 48.13333053315412, -11.846508176523287, -42.13044634856628, -11.802615416781009, -48.3048415098566, -21.235560651796106, 2.1581435310413326],
              'yp': [29.177447175506671, 37.432795698924735, -18.13676075268816, -37.54200268817202, -64.00369623655911, -60.18145161290319, 2.0105648986632048, 49.48756720430109, 26.536222509702441, 28.800129366106063],
              'min_Jp': 50.233463035,
              'max_Jp': 50.233463035}

cm_data = [[ 0.54045421,  0.4196555 ,  0.06347418],
       [ 0.54756401,  0.41594137,  0.0576799 ],
       [ 0.55448893,  0.41221824,  0.05204165],
       [ 0.56140525,  0.40839184,  0.04644122],
       [ 0.56816055,  0.40454648,  0.04103357],
       [ 0.57489185,  0.40060445,  0.03583302],
       [ 0.58147292,  0.39663973,  0.03126733],
       [ 0.58802527,  0.39257922,  0.0272597 ],
       [ 0.59442749,  0.38849827,  0.02387942],
       [ 0.60080506,  0.38431681,  0.02105643],
       [ 0.60702569,  0.3801217 ,  0.01884515],
       [ 0.61322935,  0.37581836,  0.01719376],
       [ 0.61928574,  0.37149668,  0.01613713],
       [ 0.62529527,  0.36708532,  0.01565532],
       [ 0.63118727,  0.36263552,  0.01575709],
       [ 0.63699911,  0.35811938,  0.01644312],
       [ 0.64272552,  0.35354023,  0.01771947],
       [ 0.64833645,  0.34892244,  0.01958258],
       [ 0.65389516,  0.34421301,  0.02206443],
       [ 0.6593282 ,  0.33947354,  0.02514382],
       [ 0.66469025,  0.33465625,  0.02886285],
       [ 0.66995484,  0.32978366,  0.03322245],
       [ 0.67510422,  0.32487259,  0.03822133],
       [ 0.68019577,  0.31986693,  0.04379931],
       [ 0.68516968,  0.314824  ,  0.0495594 ],
       [ 0.69004312,  0.30972673,  0.05549014],
       [ 0.69483849,  0.30454994,  0.06159888],
       [ 0.69951909,  0.29933204,  0.06782466],
       [ 0.70409858,  0.29405758,  0.074175  ],
       [ 0.70859249,  0.28870666,  0.08066758],
       [ 0.71297194,  0.28331209,  0.08725915],
       [ 0.71723955,  0.27787052,  0.09395248],
       [ 0.72142185,  0.27234574,  0.10079312],
       [ 0.72548785,  0.26677634,  0.10773583],
       [ 0.72943795,  0.26116124,  0.11478519],
       [ 0.73328177,  0.25548516,  0.12196482],
       [ 0.73701813,  0.24974715,  0.12928138],
       [ 0.74063406,  0.24396515,  0.1367179 ],
       [ 0.74412883,  0.23813926,  0.1442804 ],
       [ 0.74750671,  0.23226048,  0.15198738],
       [ 0.75076755,  0.22632611,  0.15984989],
       [ 0.75390067,  0.22035328,  0.1678529 ],
       [ 0.75690447,  0.21434371,  0.17600183],
       [ 0.7597771 ,  0.20829966,  0.18430166],
       [ 0.76252076,  0.20221431,  0.19277047],
       [ 0.7651307 ,  0.19609553,  0.20140658],
       [ 0.76760125,  0.18995499,  0.21020298],
       [ 0.76993012,  0.18379758,  0.21916244],
       [ 0.77211492,  0.17762907,  0.22828701],
       [ 0.77415317,  0.1714562 ,  0.23757795],
       [ 0.77604366,  0.16528242,  0.24704251],
       [ 0.77778336,  0.15911765,  0.2566794 ],
       [ 0.77936819,  0.15297769,  0.26647913],
       [ 0.78079587,  0.14687456,  0.27643939],
       [ 0.78206416,  0.14082213,  0.28655691],
       [ 0.78317093,  0.1348363 ,  0.29682738],
       [ 0.78411422,  0.1289353 ,  0.30724552],
       [ 0.78489219,  0.12313998,  0.31780503],
       [ 0.78550323,  0.11747412,  0.3284986 ],
       [ 0.78594604,  0.11196303,  0.33932136],
       [ 0.78621925,  0.10663866,  0.35026161],
       [ 0.78632191,  0.10153621,  0.36130735],
       [ 0.78625341,  0.09669362,  0.37244783],
       [ 0.78601345,  0.09215252,  0.38367161],
       [ 0.78560198,  0.08795781,  0.39496657],
       [ 0.78501924,  0.0841569 ,  0.40632003],
       [ 0.78426575,  0.08079835,  0.41771886],
       [ 0.7833423 ,  0.07793004,  0.42914953],
       [ 0.78224995,  0.07559683,  0.44059824],
       [ 0.78099   ,  0.07383778,  0.45205101],
       [ 0.77956403,  0.07268337,  0.46349376],
       [ 0.7779738 ,  0.07215301,  0.47491244],
       [ 0.77622129,  0.07225329,  0.4862931 ],
       [ 0.77430869,  0.0729773 ,  0.4976219 ],
       [ 0.77223839,  0.07430524,  0.50888509],
       [ 0.77001288,  0.07620607,  0.52006951],
       [ 0.76763475,  0.07864006,  0.53116244],
       [ 0.76510672,  0.08156165,  0.54215163],
       [ 0.76243158,  0.08492222,  0.5530253 ],
       [ 0.75961216,  0.08867259,  0.56377223],
       [ 0.75665135,  0.09276493,  0.57438177],
       [ 0.75355207,  0.09715411,  0.58484386],
       [ 0.75031723,  0.10179853,  0.59514906],
       [ 0.74694974,  0.10666057,  0.60528857],
       [ 0.74345248,  0.11170665,  0.61525421],
       [ 0.7398283 ,  0.1169071 ,  0.62503843],
       [ 0.73607998,  0.12223595,  0.63463432],
       [ 0.73221027,  0.12767056,  0.64403558],
       [ 0.72822187,  0.13319122,  0.6532364 ],
       [ 0.72411743,  0.13878086,  0.66223152],
       [ 0.71989921,  0.1444251 ,  0.6710169 ],
       [ 0.71556954,  0.15011135,  0.67958857],
       [ 0.71113067,  0.15582873,  0.68794304],
       [ 0.70658471,  0.16156788,  0.69607732],
       [ 0.70193364,  0.16732077,  0.70398886],
       [ 0.69717929,  0.17308047,  0.71167551],
       [ 0.69232339,  0.17884104,  0.71913551],
       [ 0.68736748,  0.18459739,  0.72636743],
       [ 0.68231295,  0.19034519,  0.73337015],
       [ 0.67716103,  0.19608072,  0.74014281],
       [ 0.67191279,  0.20180087,  0.74668476],
       [ 0.6665691 ,  0.207503  ,  0.75299557],
       [ 0.66113022,  0.21318539,  0.7590754 ],
       [ 0.6555966 ,  0.21884628,  0.76492403],
       [ 0.64996885,  0.22448391,  0.77054095],
       [ 0.64424712,  0.23009715,  0.77592598],
       [ 0.63843133,  0.23568511,  0.78107896],
       [ 0.63252122,  0.24124717,  0.78599963],
       [ 0.62651635,  0.24678293,  0.79068765],
       [ 0.62041606,  0.25229217,  0.79514252],
       [ 0.61421951,  0.25777483,  0.79936358],
       [ 0.60792567,  0.26323101,  0.80334995],
       [ 0.60153333,  0.26866092,  0.80710051],
       [ 0.5950411 ,  0.27406485,  0.81061385],
       [ 0.58844745,  0.27944318,  0.81388826],
       [ 0.58175068,  0.28479632,  0.8169217 ],
       [ 0.57494899,  0.29012469,  0.81971176],
       [ 0.56804044,  0.29542874,  0.82225567],
       [ 0.56102305,  0.30070884,  0.82455027],
       [ 0.55389478,  0.30596531,  0.82659201],
       [ 0.54665358,  0.31119838,  0.82837694],
       [ 0.53929746,  0.31640814,  0.82990076],
       [ 0.5318245 ,  0.32159452,  0.83115876],
       [ 0.52423291,  0.32675728,  0.83214593],
       [ 0.51652115,  0.33189591,  0.83285694],
       [ 0.50868794,  0.33700968,  0.83328621],
       [ 0.50073234,  0.34209753,  0.833428  ],
       [ 0.49265388,  0.3471581 ,  0.83327642],
       [ 0.48445263,  0.35218967,  0.83282559],
       [ 0.47612928,  0.35719012,  0.83206971],
       [ 0.46768527,  0.36215696,  0.83100319],
       [ 0.4591229 ,  0.36708726,  0.82962075],
       [ 0.45044541,  0.37197766,  0.82791764],
       [ 0.44165713,  0.37682437,  0.82588971],
       [ 0.43276357,  0.3816232 ,  0.82353362],
       [ 0.42376918,  0.38637074,  0.82084629],
       [ 0.41468254,  0.39106171,  0.81782639],
       [ 0.40551557,  0.39568958,  0.81447469],
       [ 0.39627954,  0.40024868,  0.81079283],
       [ 0.38698731,  0.40473314,  0.80678405],
       [ 0.37765331,  0.40913695,  0.80245332],
       [ 0.36829347,  0.41345404,  0.79780739],
       [ 0.35892525,  0.41767842,  0.79285488],
       [ 0.34956676,  0.42180454,  0.78760581],
       [ 0.34023883,  0.42582649,  0.7820728 ],
       [ 0.33096392,  0.42973851,  0.77627063],
       [ 0.32176419,  0.43353582,  0.77021502],
       [ 0.31266241,  0.43721421,  0.76392309],
       [ 0.30368179,  0.44077011,  0.75741316],
       [ 0.29484563,  0.44420062,  0.75070454],
       [ 0.28617799,  0.4475032 ,  0.74381804],
       [ 0.27770294,  0.45067594,  0.73677545],
       [ 0.26944052,  0.4537189 ,  0.72959615],
       [ 0.26141126,  0.45663228,  0.72230067],
       [ 0.25363422,  0.45941702,  0.71490916],
       [ 0.24612671,  0.46207478,  0.70744121],
       [ 0.23890405,  0.46460785,  0.69991563],
       [ 0.23197923,  0.46701914,  0.69235029],
       [ 0.22536272,  0.46931211,  0.68476193],
       [ 0.21906353,  0.47149022,  0.67716774],
       [ 0.21308645,  0.47355781,  0.66958219],
       [ 0.20743145,  0.47552015,  0.66201608],
       [ 0.2020971 ,  0.47738219,  0.65448077],
       [ 0.19707878,  0.4791491 ,  0.64698622],
       [ 0.19236879,  0.48082622,  0.63954097],
       [ 0.1879564 ,  0.48241897,  0.63215219],
       [ 0.18382801,  0.48393282,  0.62482565],
       [ 0.17996736,  0.48537327,  0.61756582],
       [ 0.17635581,  0.48674577,  0.61037585],
       [ 0.17297266,  0.48805572,  0.60325765],
       [ 0.16979544,  0.48930843,  0.59621193],
       [ 0.16680036,  0.49050906,  0.58923826],
       [ 0.16396265,  0.49166264,  0.58233508],
       [ 0.16125693,  0.49277401,  0.5754998 ],
       [ 0.15865765,  0.49384784,  0.56872881],
       [ 0.1561394 ,  0.49488855,  0.56201756],
       [ 0.15367726,  0.49590033,  0.5553606 ],
       [ 0.15124715,  0.49688713,  0.54875163],
       [ 0.1488261 ,  0.4978526 ,  0.54218355],
       [ 0.14639253,  0.49880011,  0.53564855],
       [ 0.1439265 ,  0.49973274,  0.52913813],
       [ 0.14140993,  0.5006532 ,  0.5226432 ],
       [ 0.13882684,  0.50156391,  0.51615413],
       [ 0.13616356,  0.50246691,  0.50966083],
       [ 0.13340893,  0.50336388,  0.50315282],
       [ 0.13055455,  0.50425616,  0.49661932],
       [ 0.127595  ,  0.50514469,  0.4900493 ],
       [ 0.12452813,  0.50603005,  0.48343163],
       [ 0.12135535,  0.50691244,  0.47675502],
       [ 0.11808179,  0.50779177,  0.47000779],
       [ 0.11471729,  0.50866747,  0.46317902],
       [ 0.11127649,  0.50953866,  0.45625773],
       [ 0.10777952,  0.51040412,  0.44923318],
       [ 0.10425271,  0.5112623 ,  0.44209491],
       [ 0.10072934,  0.51211134,  0.43483277],
       [ 0.09725049,  0.51294908,  0.42743697],
       [ 0.09386588,  0.51377311,  0.41989812],
       [ 0.09063454,  0.51458072,  0.41220722],
       [ 0.08762526,  0.515369  ,  0.40435565],
       [ 0.08491651,  0.51613479,  0.39633523],
       [ 0.08259547,  0.51687472,  0.38813811],
       [ 0.08075593,  0.5175852 ,  0.37975686],
       [ 0.07949475,  0.51826247,  0.37118433],
       [ 0.07890693,  0.51890254,  0.3624137 ],
       [ 0.07907943,  0.51950123,  0.3534384 ],
       [ 0.0800849 ,  0.52005414,  0.34425212],
       [ 0.08197786,  0.52055701,  0.33484154],
       [ 0.08478926,  0.52100476,  0.32520196],
       [ 0.0885251 ,  0.52139205,  0.31532958],
       [ 0.09317001,  0.52171333,  0.30521818],
       [ 0.09869111,  0.52196271,  0.29486175],
       [ 0.10504345,  0.52213386,  0.28425451],
       [ 0.11217549,  0.52221996,  0.27339113],
       [ 0.12006095,  0.5222135 ,  0.26222953],
       [ 0.12863488,  0.52210584,  0.25078856],
       [ 0.13784592,  0.52188803,  0.23907078],
       [ 0.14767306,  0.52154951,  0.22704908],
       [ 0.15810534,  0.52107772,  0.21469657],
       [ 0.16907427,  0.52046186,  0.20206365],
       [ 0.18063365,  0.5196832 ,  0.18907011],
       [ 0.19269206,  0.51873078,  0.17581247],
       [ 0.2053204 ,  0.51758025,  0.16222043],
       [ 0.21842627,  0.5162197 ,  0.14841811],
       [ 0.23198795,  0.51463126,  0.13447206],
       [ 0.2459737 ,  0.51279776,  0.1204877 ],
       [ 0.26023904,  0.51071926,  0.10671756],
       [ 0.27463751,  0.50840328,  0.09345295],
       [ 0.28898391,  0.50587255,  0.08106249],
       [ 0.30308131,  0.50316333,  0.06995635],
       [ 0.31675682,  0.50031916,  0.06052883],
       [ 0.32988452,  0.49738377,  0.05309569],
       [ 0.34237028,  0.49440095,  0.04783974],
       [ 0.3542299 ,  0.49139141,  0.04473358],
       [ 0.36549428,  0.48837054,  0.04358919],
       [ 0.3761416 ,  0.48536693,  0.04408304],
       [ 0.38630537,  0.48236308,  0.04583618],
       [ 0.39595533,  0.47938569,  0.04846449],
       [ 0.40520964,  0.47641415,  0.05166591],
       [ 0.41409679,  0.4734522 ,  0.0551844 ],
       [ 0.42263555,  0.47050547,  0.05881807],
       [ 0.43090014,  0.46755843,  0.06244011],
       [ 0.43892211,  0.46460803,  0.06594515],
       [ 0.44673101,  0.46165049,  0.06925487],
       [ 0.45433809,  0.45868791,  0.07230371],
       [ 0.46178958,  0.45570765,  0.07505436],
       [ 0.46910976,  0.45270419,  0.07746876],
       [ 0.47632018,  0.44967213,  0.07951309],
       [ 0.48344085,  0.4466058 ,  0.08115543],
       [ 0.49049031,  0.44349931,  0.0823635 ],
       [ 0.49748573,  0.4403466 ,  0.08310249],
       [ 0.50444292,  0.43714149,  0.08333295],
       [ 0.51137633,  0.43387772,  0.08300836],
       [ 0.51829912,  0.43054906,  0.0820722 ],
       [ 0.52522302,  0.42714934,  0.0804541 ],
       [ 0.53215828,  0.4236726 ,  0.07806445],
       [ 0.53911344,  0.42011326,  0.07478632]]

test_cm = LinearSegmentedColormap.from_list(__file__, cm_data)


if __name__ == "__main__":
    import matplotlib.pyplot as plt
    import numpy as np

    try:
        from pycam02ucs.cm.viscm import viscm
        viscm(test_cm)
    except ImportError:
        print("pycam02ucs not found, falling back on simple display")
        plt.imshow(np.linspace(0, 100, 256)[None, :], aspect='auto',
                   cmap=test_cm)
    plt.show()
